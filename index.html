<!DOCTYPE html>
<html class="no-js">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- <div id="app">
        <div id="some-div" v-bind:style="gridStyle">
            <div class="smaller-div"></div>{{ numOfColumns }}
            <div class="smaller-div"></div>
        </div>
      </div> -->

  <table id="geo" class="table table-sm compact table-bordered table-striped table-responsive" style="width:100%">
    <thead>
      <tr>
        <th scope="col">Web page</th>
        <th scope="col">Name</th>
        <th scope="col">API result</th>
        <th scope="col">Original Country</th>
        <th scope="col">Original State</th>
        <th scope="col">Original City</th>
        <th scope="col">API Latitude</th>
        <th scope="col">API Longitude</th>
        <th scope="col">API Level</th>
      </tr>
    </thead>
    <tbody>
      <tr id="empty">
        <td><a href="http://{{ company.url }}" target="_blank">{{ company.url }}</a></td>
        <td><a href="/interface/{{ company.id }}/" target="_blank">{{ company.name }}</a></td>
        <td>{{ company.address }}</td>
        <td><input type="text" id="0" name="country__{{ company.id }}" value="{{ company.country|default_if_none:'' }}"></td>
        <td><input type="text" id="0" name="state__{{ company.id }}" value="{{ company.state|default_if_none:'' }}"></td>
        <td><input type="text" id="0" name="city__{{ company.id }}" value="{{ company.city|default_if_none:'' }}"></td>
        <td><input type="text" id="0" name="latitude__{{ company.id }}" value="{{ company.latitude|default_if_none:'' }}"></td>
        <td><input type="text" id="0" name="longitude__{{ company.id }}" value="{{ company.longitude|default_if_none:'' }}"></td>
        <td><input type="checkbox" id="0" class="check-box" name="level__{{ company.id }}" placeholder="city" value="{{ company.level|default_if_none:'' }}"></td>
      </tr>
    </tbody>
  </table>

  <table id="geo" class="table table-sm compact table-bordered table-striped table-responsive" style="width:100%">
    <thead>
      <tr>
        <th scope="col">Web page</th>
        <th scope="col">Name</th>
        <th scope="col">API result</th>
        <th scope="col">Original Country</th>
        <th scope="col">Original State</th>
        <th scope="col">Original City</th>
        <th scope="col">API Latitude</th>
        <th scope="col">API Longitude</th>
        <th scope="col">API Level</th>
      </tr>
    </thead>
    <tbody>
      <tr id="empty">
        <td><a href="http://{{ company.url }}" target="_blank">{{ company.url }}</a></td>
        <td><a href="/interface/{{ company.id }}/" target="_blank">{{ company.name }}</a></td>
        <td>{{ company.address }}</td>
        <td><input type="text" id="1" name="country__{{ company.id }}" value="{{ company.country|default_if_none:'' }}"></td>
        <td><input type="text" id="1" name="state__{{ company.id }}" value="{{ company.state|default_if_none:'' }}"></td>
        <td><input type="text" id="1" name="city__{{ company.id }}" value="{{ company.city|default_if_none:'' }}"></td>
        <td><input type="text" id="1" name="latitude__{{ company.id }}" value="{{ company.latitude|default_if_none:'' }}"></td>
        <td><input type="text" id="1" name="longitude__{{ company.id }}" value="{{ company.longitude|default_if_none:'' }}"></td>
        <td><input type="checkbox" id="1" class="check-box" name="level__{{ company.id }}" placeholder="city" value="{{ company.level|default_if_none:'' }}"></td>
      </tr>
    </tbody>
  </table>
  <table id="geo" class="table table-sm compact table-bordered table-striped table-responsive" style="width:100%">
    <thead>
      <tr>
        <th scope="col">Web page</th>
        <th scope="col">Name</th>
        <th scope="col">API result</th>
        <th scope="col">Original Country</th>
        <th scope="col">Original State</th>
        <th scope="col">Original City</th>
        <th scope="col">API Latitude</th>
        <th scope="col">API Longitude</th>
        <th scope="col">API Level</th>
      </tr>
    </thead>
    <tbody>
      <tr id="empty">
        <td><a href="http://{{ company.url }}" target="_blank">{{ company.url }}</a></td>
        <td><a href="/interface/{{ company.id }}/" target="_blank">{{ company.name }}</a></td>
        <td>{{ company.address }}</td>
        <td><input type="text" id="2" name="country__{{ company.id }}" value="{{ company.country|default_if_none:'' }}"></td>
        <td><input type="text" id="2" name="state__{{ company.id }}" value="{{ company.state|default_if_none:'' }}"></td>
        <td><input type="text" id="2" name="city__{{ company.id }}" value="{{ company.city|default_if_none:'' }}"></td>
        <td><input type="text" id="2" name="latitude__{{ company.id }}" value="{{ company.latitude|default_if_none:'' }}"></td>
        <td><input type="text" id="2" name="longitude__{{ company.id }}" value="{{ company.longitude|default_if_none:'' }}"></td>
        <td><input type="checkbox" id="2" class="check-box" name="level__{{ company.id }}" placeholder="city" value="{{ company.level|default_if_none:'' }}"></td>
      </tr>
    </tbody>
  </table>

  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  <input class="test-input" placeholder="Click here, then press and release a key." size="40">
  
  <p id="log"></p>


  <script>

    // focusMethod = function getFocus() {
    //   document.getElementById("myTextField").focus();
    // }

    const input = document.querySelectorAll('.test-input');
    const log = document.getElementById('log');
      console.log(input)
    
      for(var i=0; i <input.length; i++) {
        input[i].setAttribute("id", i);
        input[i].addEventListener('keydown', logKey);
      }
    

    function logKey(e) {
      
      if(e.keyCode == 13) {
        for(var i=0; i < input.length; i++) {
          if(e.target.hasAttribute("id")==i){
            var index= Number(e.target.getAttribute("id"));
            console.log(typeof Number(index));
            if(index>=0 && index <input.length && index != input.length-1){
              input[index+1].focus();
              console.log(index, index+1, input.length, input[0])
            } 
            if (index == input.length-1) {
              console.log("yaay")
              input[0].focus();
            }

            // if(index>0 && input<=input.length-1) {
            //   input[index+1].focus();
            // } else {
            //   input[0].focus();
            // }
          
        

          
        }
        }
      }
       
        
      
    }

    var checkBox = document.getElementsByClassName("check-box"); //HTML Collection
    var inputFields = document.getElementsByTagName("input");

    //adding click event to all the checkboxes;
    for (var i = 0; i < checkBox.length; i++) {
      checkBox[i].addEventListener("click", check.bind(event));
      // checkBox[i].addEventListener("keyup", switchInput.bind(event));
    }

    // input.addEventListener('keyup', logKey);

    // function switchInput(e) {
    //   console.log(e.code);
    // }

    //function triggered with a 'check';
    function check(event) {
      //looping through all inputs
      for (var i = 0; i < inputFields.length; i++) {
        //if checked
        if (event.target.checked) {
          console.log("yes", event.target.id)
          //and if ids of the check-box and all inputs are the same
          if (event.target.id == inputFields[i].getAttribute("id")) {
            console.log("the same")
            //change the background
            inputFields[i].style = "background-color: green"
          } else {
            console.log("different")
          }
          //if not checked, leave it or bring it back to white
        } else {
          console.log("no", event.target.id)
          inputFields[i].style = "background-color: white"
        }
      }

    }



  </script>


  <script src="https://cdn.jsdelivr.net/npm/vue"></script>
  <script src="script.js"></script>

</body>

</html>